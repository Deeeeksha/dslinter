<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Code Smells | DSLinter - Linter for Machine Learnig Application - Specific Code Smells</title>
<meta name=keywords content>
<meta name=description content="Code Smells - DSLinter - Linter for Machine Learnig Application - Specific Code Smells">
<meta name=author content>
<link rel=canonical href=https://hynn01.github.io/dslinter/code-smells/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/dslinter/assets/css/stylesheet.min.ccf63c2001f333f5fe878d473648051efe3aea1e5baceba8797e9f94daa448e6.css integrity="sha256-zPY8IAHzM/X+h41HNkgFHv466h5brOuoeX6flNqkSOY=" rel="preload stylesheet" as=style>
<link rel=icon href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.1">
<link rel=alternate type=application/rss+xml href=https://hynn01.github.io/dslinter/code-smells/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript><meta property="og:title" content="Code Smells">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="https://hynn01.github.io/dslinter/code-smells/"><meta property="og:site_name" content="DSLinter - Linter for Machine Learnig Application - Specific Code Smells">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Code Smells">
<meta name=twitter:description content>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Code Smells","item":"https://hynn01.github.io/dslinter/code-smells/"}]}</script>
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://hynn01.github.io/dslinter/ accesskey=h title="DSLinter - Linter for Machine Learnig Application - Specific Code Smells (Alt + H)">DSLinter - Linter for Machine Learnig Application - Specific Code Smells</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://hynn01.github.io/dslinter/code-smells/ title="Code Smells">
<span class=active>Code Smells</span>
</a>
</li>
<li>
<a href=https://hynn01.github.io/dslinter/ title=Survey>
<span>Survey</span>
</a>
</li>
<li>
<a href=https://hynn01.github.io/dslinter/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href=https://hynn01.github.io/dslinter/>Home</a></div>
<h1>Code Smells</h1>
</header>
<article class=post-entry>
<header class=entry-header>
<h2>Log Parameter Approaching Zero
</h2>
</header>
<section class=entry-content>
<p>Description Several posts on Stack Overflow talk about the bugs that are not easy to discover caused by the log parameter approaching zero \ref{grey:so_log1}\ref{grey:so_log2}\ref{grey:so_log3}\ref{grey:so_log4}. In this kind of program, the log function variable turns to zero and raises an error during the training process. However, the error’s stack trace did not directly point to the line of code that the bug exist \cite{zhang2018empirical}. This kind of problem is not easy to debug and might take a long training time to find....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Log Parameter Approaching Zero" href=https://hynn01.github.io/dslinter/code-smells/log-parameter-approaching-zero/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Nan Equality Misused
</h2>
</header>
<section class=entry-content>
<p>Description While \textit{None} == \textit{None} evaluates to \textit{True}, \textit{numpy.nan} == \textit{numpy.nan} evaluates to \textit{False}. As Pandas treats \textit{None} like \textit{numpy.nan} for simplicity and performance reasons, a comparison of DataFrame elements with \textit{numpy.nan} always return \textit{False} \cite{haakman2020studying}. Therefore, developers need to be careful when using the \textit{NaN} comparision in Numpy and Pandas. Otherwise, it may lead to unintentional behavior in the code.
Type API Specific
Existing Stage Data Preparation
Effect Error-prone...</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Nan Equality Misused" href=https://hynn01.github.io/dslinter/code-smells/nan-equality-misused/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Chain Indexing Misused
</h2>
</header>
<section class=entry-content>
<p>Description As noted in documentation and posts \ref{grey:pandas_indexing}\ref{grey:so_indexing1}\ref{grey:so_indexing2}, chaining indexing in Pandas is considered a bad practice and should be avoided. Using chain indexing might cause performance issues as well as prone-to-bug code. For example, when using \textit{df[“one”][“two”]}, Pandas see this operation as two events: call \textit{df[“one”]} first and call \textit{[“two”]} based on the result the previous operation gets. On the contrary, \textit{df.loc[:,(“one”,“two”)]} only perform a single call. In this way, the second method can be significantly faster than the first one....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Chain Indexing Misused" href=https://hynn01.github.io/dslinter/code-smells/chain-indexing-misused/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Dataframe Coversion API Misused
</h2>
</header>
<section class=entry-content>
<p>Description When converting DataFrame to NumPy array, it is better to use \textit{df.to_numpy()} than \textit{df.values()}. As noted in \ref{grey:so_df_conversion}, \textit{df.values()} has inconsistency problem. With \textit{.values} it is unclear whether the returned value would be the actual array, some transformation of it, or one of the Pandas custom arrays. However, \textit{.values} is not deprecated yet. Although the library developers note it as a warning in the documentation, it does not log a warning or error when compiling if we use \textit{....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Dataframe Coversion API Misused" href=https://hynn01.github.io/dslinter/code-smells/dataframe-coversion-api-misused/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Regular Expression Solution Not Optimal
</h2>
</header>
<section class=entry-content>
<p>Description \ref{grey:so_regx} provides a better coding solution for the regular expression, which might be able to apply to the Nature Language Processing (NLP) preprocessing process. NLP tasks are data-intensive and often take a long time to clean the data, so it would be good to save some time when preprocessing the data. The posts noted that \textit{regex.sub()} and \textit{str.translate()} work faster than \textit{str.replace()} in practice in Pandas library. The more efficient solution is worth considering....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Regular Expression Solution Not Optimal" href=https://hynn01.github.io/dslinter/code-smells/regular-expression-solution-not-optimal/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Tensor Shape Unset
</h2>
</header>
<section class=entry-content>
<p>Description Several bugs can be caused by tensor unaligned. Usually, the unaligned tensor problems cannot be identified at the code level, but we can explicitly control one. It is recommended to explicitly set the shape of the input for \textit{tf.Variable()} to make the tensor aligned. In this way, we can alleviate the unaligned tensor problem.
Type API Specific
Existing Stage Data Preparation
Effect Error-prone
Example ### TensorFlow import Tensorflow as tf # Violated Code normal_dist = tf....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Tensor Shape Unset" href=https://hynn01.github.io/dslinter/code-smells/tensor-shape-unset/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Backend Engine Mischoosed
</h2>
</header>
<section class=entry-content>
<p>Description As noted in \ref{grey:so_backend}, when using \textit{pd.eval()} in Pandas library, the “\textit{numexpr}” is optimized for performance and “\textit{python}” options offer no performance benefit over “\textit{numexpr}”. Generally, it is not recommended to set the parameter to “\textit{python}”. The developers should be careful when explicitly set this parameter.
Type API Specific
Existing Stage Data Preparation
Effect Efficiency
Example # Violated Code # Recommended Fix Source: Paper Grey Literature GitHub Commit Stack Overflow https://stackoverflow....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Backend Engine Mischoosed" href=https://hynn01.github.io/dslinter/code-smells/backend-engine-mischoosed/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>DataLoader Unused
</h2>
</header>
<section class=entry-content>
<p>Description Some new developers are not aware of using the existing function and writing the function by themselves. However, it is recommended to use the APIs because the APIs provided by the library often consider more things. For instance, in \ref{grey:so_dataloader}, the developer does not use the DataLoader and feeds the data directly to the network. The answerer noted that using DataLoader has several benefits: 1) It allows the developers to sample the data randomly....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to DataLoader Unused" href=https://hynn01.github.io/dslinter/code-smells/dataloader-unused/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Matrix Multiplication API Misused
</h2>
</header>
<section class=entry-content>
<p>Description \textit{np.matmul()} in Numpy library is more readable than \textit{np.dot()} in the semantic way. While \textit{np.dot()} provides heterogeneous behaviors depending on the shape of the data, \textit{np.matmul()} behaves in a consistent way. When the multiply operation is performed on two-dimension matrixes, two APIs give a same result. However, \textit{np.matmul()} is preferred than \textit{np.dot()} for its clear semantic.
Type API Specific
Existing Stage Model Training
Effect Readability
Example ### NumPy import numpy as np a = [[1, 0], [0, 1]] b = [[4, 1], [2, 2]] # Violated Code np....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Matrix Multiplication API Misused" href=https://hynn01.github.io/dslinter/code-smells/matrix-multiplication-api-misused/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Initialization Order Misused
</h2>
</header>
<section class=entry-content>
<p>Description The \textit{AdamOptimizer} class in the TensorFlow creates additional variables named “slots”. The variables must be initialized before training the model. Therefore, if the developer call \textit{initialize_all_variables()} before calling \textit{AdamOptimizer} and does not call the initializer afterward, the variables created by \textit{AdamOptimizer} will not be initialized and might cause an error.
Type API Specific
Existing Stage Model Training
Effect Error-prone
Example # Violated Code init = tf.global_variables_initializer() train_op = tf.train.AdamOptimizer(1e-4).minimize(cross_entropy) sess = tf....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Initialization Order Misused" href=https://hynn01.github.io/dslinter/code-smells/initialization-order-misused/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=prev href=https://hynn01.github.io/dslinter/code-smells/>« Prev Page</a>
<a class=next href=https://hynn01.github.io/dslinter/code-smells/page/3/>Next Page »</a>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://hynn01.github.io/dslinter/>DSLinter - Linter for Machine Learnig Application - Specific Code Smells</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>